<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.55">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Simone Santoni">
<meta name="dcterms.date" content="2024-11-22">

<title>SMM635 Final Course Project</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="fcp_files/libs/clipboard/clipboard.min.js"></script>
<script src="fcp_files/libs/quarto-html/quarto.js"></script>
<script src="fcp_files/libs/quarto-html/popper.min.js"></script>
<script src="fcp_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="fcp_files/libs/quarto-html/anchor.min.js"></script>
<link href="fcp_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="fcp_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="fcp_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="fcp_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="fcp_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of Contents</h2>
   
  <ul class="collapse">
  <li><a href="#sec-overview" id="toc-sec-overview" class="nav-link active" data-scroll-target="#sec-overview"><span class="header-section-number">1</span> Overview of the Projects</a></li>
  <li><a href="#sec-project-1" id="toc-sec-project-1" class="nav-link" data-scroll-target="#sec-project-1"><span class="header-section-number">2</span> Project 1: Equal Employment Opportunity</a>
  <ul class="collapse">
  <li><a href="#contextual-information" id="toc-contextual-information" class="nav-link" data-scroll-target="#contextual-information"><span class="header-section-number">2.1</span> Contextual information</a></li>
  <li><a href="#data-description" id="toc-data-description" class="nav-link" data-scroll-target="#data-description"><span class="header-section-number">2.2</span> Data description</a></li>
  <li><a href="#data-visualization-problem" id="toc-data-visualization-problem" class="nav-link" data-scroll-target="#data-visualization-problem"><span class="header-section-number">2.3</span> Data visualization problem</a></li>
  </ul></li>
  <li><a href="#sec-project-2" id="toc-sec-project-2" class="nav-link" data-scroll-target="#sec-project-2"><span class="header-section-number">3</span> Project 2: Platform Economy</a>
  <ul class="collapse">
  <li><a href="#contextual-information-1" id="toc-contextual-information-1" class="nav-link" data-scroll-target="#contextual-information-1"><span class="header-section-number">3.1</span> Contextual information</a></li>
  <li><a href="#data-description-1" id="toc-data-description-1" class="nav-link" data-scroll-target="#data-description-1"><span class="header-section-number">3.2</span> Data description</a></li>
  <li><a href="#data-visualization-problem-1" id="toc-data-visualization-problem-1" class="nav-link" data-scroll-target="#data-visualization-problem-1"><span class="header-section-number">3.3</span> Data visualization problem</a></li>
  </ul></li>
  <li><a href="#sec-template" id="toc-sec-template" class="nav-link" data-scroll-target="#sec-template"><span class="header-section-number">4</span> Submission package</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="fcp.ipynb" download="fcp.ipynb"><i class="bi bi-journal-code"></i>Jupyter</a></li><li><a href="fcp.docx"><i class="bi bi-file-word"></i>MS Word</a></li><li><a href="fcp.pdf"><i class="bi bi-file-pdf"></i>Typst</a></li></ul></div></nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">SMM635 Final Course Project</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Simone Santoni </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 22, 2024</p>
    </div>
  </div>
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="block-title">Synopsis</div>
    This notebook illustrates two alternative final course projects for the SMM635 course.
  </div>
</div>


</header>


<section id="sec-overview" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Overview of the Projects</h1>
<p>Students are required to choose one of the two projects in <a href="#tbl-overview" class="quarto-xref">Table&nbsp;1</a>. <a href="#sec-project-1" class="quarto-xref">Section&nbsp;2</a> and <a href="#sec-project-2" class="quarto-xref">Section&nbsp;3</a>, describe the individual projects’ context, data, and problems. Finally, <a href="#sec-template" class="quarto-xref">Section&nbsp;4</a> describes the materials that students are expected to submit, irrespective of the chosen project.</p>
<div id="tbl-overview" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-overview-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Overview and key features of the two projects
</figcaption>
<div aria-describedby="tbl-overview-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top">
<thead>
<tr>
<th style="text-align: center;">Project</th>
<th style="text-align: left;">Title</th>
<th style="text-align: left;">Data domains</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">1</td>
<td style="text-align: left;">Equal employment opportunity</td>
<td style="text-align: left;">Geospatial &amp; time-series</td>
</tr>
<tr>
<td style="text-align: center;">2</td>
<td style="text-align: left;">Platform economy</td>
<td style="text-align: left;">Time series</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
</section>
<section id="sec-project-1" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Project 1: Equal Employment Opportunity</h1>
<section id="contextual-information" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="contextual-information"><span class="header-section-number">2.1</span> Contextual information</h2>
<p>This project’s dataset contains a list of Industrial and Commercial Abatement Program (ICAP)<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> businesses that have successfully complied with Equal Employment Opportunity (EO50) requirements and have received EO50 certificate of approval from the NYC Department of Small Business Services (SBS). Executive Order No.&nbsp;50 was established in 1980 during Mayor Koch’s tenure. It mandates that all contractors adhere to equal employment principles, explicitly prohibiting discriminatory hiring practices. This order safeguards individuals from discrimination based on ten protected categories: race, sex, creed, age, color, disability, national origin, marital status, sexual orientation, and citizenship status.</p>
</section>
<section id="data-description" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="data-description"><span class="header-section-number">2.2</span> Data description</h2>
<p>The dataset is stored in a CSV file named <code>e050.csv</code> and contains 992 cases―i.e., businesses that have received the EO50 certificate―and 16 variables, including the timestamp of the EO50 approval date and location data. Below is a sample record from the dataset.</p>
<div id="07906a69" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>df1 <span class="op">=</span> pd.read_csv(<span class="st">"data/e050.csv"</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>df1.head(<span class="dv">1</span>).T</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="1">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">0</th>
</tr>
</thead>
<tbody>
<tr>
<td data-quarto-table-cell-role="th">EO50 Approval Date</td>
<td>06/02/2021 12:00:00 AM</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Business Name</td>
<td>122 Fifth Associates LLC</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Business Address</td>
<td>120 Fifth Avenue</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Business City</td>
<td>New York</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Business State</td>
<td>New York</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Business Phone</td>
<td>646-630-8609</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Postcode</td>
<td>10011</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Borough</td>
<td>MANHATTAN</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Community Board</td>
<td>105.0</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Latitude</td>
<td>40.738077</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Longitude</td>
<td>-73.992123</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Council District</td>
<td>3.0</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">BIN</td>
<td>1015419.0</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">BBL</td>
<td>1008190037.0</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Census Tract (2020)</td>
<td>54.0</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">Neighborhood Tabulation Area (NTA) (2020)</td>
<td>MN0501</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>The following bullet point list describes the individual variables:</p>
<ul>
<li><strong>EO50 Approval Date</strong>: the date when the Business received EO50 certificate of approval from SBS (timestamp)</li>
<li><strong>Business Name</strong>: Business name of vendor recruiting Minority and/or Women-Owned Business Enterprise subcontractors (Text)</li>
<li><strong>Business Address</strong>: Address(es) of project site (text)</li>
<li><strong>Business City</strong>: City of project site</li>
<li><strong>Business State</strong>: State</li>
<li><strong>Business Phone</strong>: Phone number of primary contact of vendor recruiting Minority and/or Women-Owned Business Enterprise subcontractors</li>
<li><strong>Postcode</strong>: Zip code of site address(es)</li>
<li><strong>Borough</strong>: Borough in which the site is located&gt;</li>
<li><strong>Community Board</strong>: Community Board number</li>
<li><strong>Latitude</strong>: Latitude of the site’s location</li>
<li><strong>Longitude</strong>: Longitude of the site’s location</li>
<li><strong>Council District</strong>: The Council District field indicates the New York City Council District where the site is located</li>
<li><strong>BIN</strong>: The BIN (site Identification Number) is a unique identifier for each site in the City</li>
<li><strong>BBL</strong>: The BBL (Borough, Block, and Lot) is a unique identifier for each tax lot in the City</li>
<li><strong>Census Tract (2020)</strong>: The Census Tract (Census 2020) field indicates the U.S. Census Tract where the site is located. Please note that as part of the geocoding process, leading and trailing zeros are dropped</li>
<li><strong>Neighborhood Tabulation Area (NTA) (2020)</strong>: The Neighborhood Tabulation Area (Census 2020) field indicates the New York City Neighborhood area where the site is located</li>
</ul>
<p><a href="#fig-certification" class="quarto-xref">Figure&nbsp;1</a> shows the distribution of EO50 certificates over time.</p>
<div id="cell-fig-certification" class="cell" data-execution_count="2">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>df1.loc[:, <span class="st">"date"</span>] <span class="op">=</span> pd.to_datetime(df1[<span class="st">"EO50 Approval Date"</span>])</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">"month_year"</span>] <span class="op">=</span> df1[<span class="st">"date"</span>].dt.to_period(<span class="st">"M"</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>gr <span class="op">=</span> df1.groupby(<span class="st">"month_year"</span>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>ds <span class="op">=</span> pd.DataFrame(gr.size().reset_index(name<span class="op">=</span><span class="st">"counts"</span>))</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">4</span>))</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> fig.add_subplot(<span class="dv">111</span>)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>ax.plot(ds.index, ds[<span class="st">"counts"</span>], color<span class="op">=</span><span class="st">"blue"</span>)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>xticklabels <span class="op">=</span> []</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> _ <span class="kw">in</span> ds[<span class="st">"month_year"</span>].astype(<span class="bu">str</span>):</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">"-06"</span> <span class="kw">in</span> _:</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>        xticklabels.append(_)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>        xticklabels.append(<span class="st">""</span>)</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>ax.set_xticks(ds.index)</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>ax.set_xticklabels(xticklabels, rotation<span class="op">=</span><span class="dv">45</span>, horizontalalignment<span class="op">=</span><span class="st">"right"</span>)</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">"Counts of EO50 certificates"</span>)</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>ax.grid(<span class="va">True</span>, which<span class="op">=</span><span class="st">"major"</span>, axis<span class="op">=</span><span class="st">"y"</span>, linestyle<span class="op">=</span><span class="st">"--"</span>, linewidth<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-certification" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-certification-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="fcp_files/figure-html/fig-certification-output-1.png" width="659" height="373" class="figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-certification-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Distribution of EO50 certificates over time
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="data-visualization-problem" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="data-visualization-problem"><span class="header-section-number">2.3</span> Data visualization problem</h2>
<p>Create two (2) plots showing the diffusion of EO50 certificates across NYC areas and over time. You may want to consider a few demographic or socio-economic indicators (e.g., borough-level indicators) to provide a more nuanced interpretation of the EO50 diffusion pattern. <a href="https://opendata.cityofnewyork.us/">NYC OpenData</a> provides a wealth of datasets that you can use to efficiently and effectively enrich the analysis. Then, discuss the main business/policy insight(s) that can be drawn from the plots you created.</p>
</section>
</section>
<section id="sec-project-2" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Project 2: Platform Economy</h1>
<section id="contextual-information-1" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="contextual-information-1"><span class="header-section-number">3.1</span> Contextual information</h2>
<p>The platform economy has transformed the way people work, consume, and interact with each other. Platforms like Uber, Lyft, Airbnb, and TaskRabbit have disrupted traditional industries and created new opportunities for workers and consumers. However, platform businesses may affect non-related markets in unexpected ways. This project emphasizes a regulatory change that affected the ride-sharing industry in Austin, Texas, and its impact on the local restaurant industry, and, possibly, local restaurants.</p>
<p>In 2016 and 2017, Uber and Lyft temporarily ceased operations in Austin, Texas, due to a dispute over local regulations governing ride-sharing services. In December 2015, Austin City Council passed an ordinance requiring ride-sharing companies like Uber and Lyft to:</p>
<ul>
<li>Conduct fingerprint-based background checks on their drivers (similar to those required for taxi drivers)</li>
<li>Restrict pick-up and drop-off locations in certain areas</li>
<li>Collect data and adhere to other safety and operational standards</li>
</ul>
<p>Uber and Lyft objected to the fingerprint requirement, arguing that their own background checks were sufficient and that fingerprinting was unnecessarily burdensome, potentially deterring drivers from signing up.</p>
<p>In response to the ordinance, Uber and Lyft, along with their supporters, gathered enough signatures to trigger a public referendum (Proposition 1) in May 2016, hoping to overturn the city’s regulations. Outcome: Proposition 1 was defeated, with approximately 56% of Austin voters choosing to uphold the city’s regulations. Impact: Following the vote, both Uber and Lyft announced that they would suspend operations in Austin, effective May 9, 2016.</p>
<p>However, many residents expressed frustration with the lack of options and higher prices compared to the services provided by Uber and Lyft. The absence of the two giants also created logistical challenges for large-scale events like SXSW and the Austin City Limits music festival.</p>
<p>In May 2017, the Texas Legislature passed House Bill 100, a statewide law that overrode local ride-sharing regulations and established uniform rules across Texas. Notably, the new law removed the requirement for fingerprint-based background check and gave regulatory authority over ride-sharing companies to the state rather than individual cities. With this new statewide framework, Uber and Lyft resumed operations in Austin soon after the bill was signed into law.</p>
</section>
<section id="data-description-1" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="data-description-1"><span class="header-section-number">3.2</span> Data description</h2>
<p>This project comprises two data-tables, <code>platform_economy_reviews.csv</code> and <code>platform_economy_restaurants.csv</code>. The former contains restaurant review tone, while the latter contains restaurant workers’ career spells.</p>
<section id="reviews" class="level3" data-number="3.2.1">
<h3 data-number="3.2.1" class="anchored" data-anchor-id="reviews"><span class="header-section-number">3.2.1</span> Reviews</h3>
<p>The data-table <code>platform_economy_reviews.csv</code> contains 58,227 reviews regarding a sample of 1,107 restaurants in Texas. Below is the codebook for the dataset:</p>
<ul>
<li><strong>id</strong> : Restaurant numeric identifier</li>
<li><strong>yelp_tier</strong> : The tier of the restaurant according to Yelp (in “$”)</li>
<li><strong>time</strong>: Review timestamp in “YYYY-MM” format</li>
<li><strong>bad_service</strong>: Percentage of month <span class="math inline">\(t\)</span> Yelp reviews that were negative about the service This measure was achieved by training an aspect-based (i.e., service-based) sentiment classifier on the corpus 58,227 reviews</li>
<li><strong>bad_food</strong>: Percentage of month <span class="math inline">\(t\)</span> Yelp reviews that were negative about the food. This measure was achieved by training an aspect-based (i.e., food-based) sentiment classifier on the corpus 58,227 reviews</li>
<li><strong>location</strong>: Restaurant location (either Austin or Dallas)</li>
</ul>
<div id="ed09d951" class="cell" data-execution_count="3">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>df2 <span class="op">=</span> pd.read_csv(<span class="st">"data/platform_economy_reviews.csv"</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>df2.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="3">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">id</th>
<th data-quarto-table-cell-role="th">yelp_review</th>
<th data-quarto-table-cell-role="th">time</th>
<th data-quarto-table-cell-role="th">bad_service</th>
<th data-quarto-table-cell-role="th">bad_food</th>
<th data-quarto-table-cell-role="th">location</th>
</tr>
</thead>
<tbody>
<tr>
<td data-quarto-table-cell-role="th">0</td>
<td>13</td>
<td>$$</td>
<td>2014-05</td>
<td>0.500000</td>
<td>0.300000</td>
<td>austin</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">1</td>
<td>13</td>
<td>$$</td>
<td>2014-06</td>
<td>0.600000</td>
<td>0.000000</td>
<td>austin</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">2</td>
<td>13</td>
<td>$$</td>
<td>2014-07</td>
<td>0.375000</td>
<td>0.375000</td>
<td>austin</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">3</td>
<td>13</td>
<td>$$</td>
<td>2014-08</td>
<td>0.285714</td>
<td>0.142857</td>
<td>austin</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">4</td>
<td>13</td>
<td>$$</td>
<td>2014-09</td>
<td>0.200000</td>
<td>0.000000</td>
<td>austin</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><a href="#fig-reviews-over-time" class="quarto-xref">Figure&nbsp;2</a> shows the distribution of Yelp reviews regarding restaurants in Austin (which was affected by the Uber and Lyft exit) and Dallas (which was not affected). These data offer ready-to-analyze information regarding the quality of service and food in the restaurants over time.</p>
<div id="cell-fig-reviews-over-time" class="cell" data-execution_count="4">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>gr <span class="op">=</span> df2.groupby([<span class="st">"time"</span>, <span class="st">"location"</span>])</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>ds <span class="op">=</span> pd.DataFrame(gr.size().reset_index(name<span class="op">=</span><span class="st">"counts"</span>))</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">4</span>))</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> fig.add_subplot(<span class="dv">111</span>)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> _, color <span class="kw">in</span> <span class="bu">zip</span>([<span class="st">"austin"</span>, <span class="st">"dallas"</span>], [<span class="st">"red"</span>, <span class="st">"blue"</span>]):</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    tmp <span class="op">=</span> ds.loc[ds[<span class="st">"location"</span>] <span class="op">==</span> _, :]</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    ax.plot(</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>        tmp.time,</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>        tmp.counts,</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>        color<span class="op">=</span>color,</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>        label<span class="op">=</span>_.title(),</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>xticklabels <span class="op">=</span> []</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> _ <span class="kw">in</span> ax.get_xticklabels():</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">"-05"</span> <span class="kw">in</span> _.get_text():</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>        xticklabels.append(_.get_text())</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>        xticklabels.append(<span class="st">""</span>)</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">"Counts of Yelp reviews"</span>)</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>ax.set_xticklabels(xticklabels, rotation<span class="op">=</span><span class="dv">90</span>, horizontalalignment<span class="op">=</span><span class="st">"center"</span>)</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>ax.legend(loc<span class="op">=</span><span class="st">"best"</span>)</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>ax.vlines(x<span class="op">=</span><span class="st">"2016-05"</span>, ymin<span class="op">=</span><span class="dv">0</span>, ymax<span class="op">=</span>ds[<span class="st">"counts"</span>].<span class="bu">max</span>(), color<span class="op">=</span><span class="st">"purple"</span>, linestyle<span class="op">=</span><span class="st">"--"</span>)</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>ax.text(x<span class="op">=</span><span class="st">"2016-02"</span>, y<span class="op">=</span><span class="dv">0</span>, s<span class="op">=</span><span class="st">"Uber &amp; Lyft</span><span class="ch">\n</span><span class="st">exit Austin"</span>, rotation<span class="op">=</span><span class="dv">90</span>, color<span class="op">=</span><span class="st">"purple"</span>)</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>ax.vlines(x<span class="op">=</span><span class="st">"2017-05"</span>, ymin<span class="op">=</span><span class="dv">0</span>, ymax<span class="op">=</span>ds[<span class="st">"counts"</span>].<span class="bu">max</span>(), color<span class="op">=</span><span class="st">"green"</span>, linestyle<span class="op">=</span><span class="st">"--"</span>)</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>ax.text(</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"2017-02"</span>, y<span class="op">=</span><span class="dv">0</span>, s<span class="op">=</span><span class="st">"Uber &amp; Lyft</span><span class="ch">\n</span><span class="st">re-entry Austin"</span>, rotation<span class="op">=</span><span class="dv">90</span>, color<span class="op">=</span><span class="st">"green"</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>ax.grid(<span class="va">True</span>, which<span class="op">=</span><span class="st">"major"</span>, axis<span class="op">=</span><span class="st">"y"</span>, linestyle<span class="op">=</span><span class="st">"--"</span>, linewidth<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-reviews-over-time" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-reviews-over-time-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="fcp_files/figure-html/fig-reviews-over-time-output-1.png" width="668" height="380" class="figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-reviews-over-time-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Distribution of Yelp reviews regarding restaurants in Austin and Dallas
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="labor-mobility" class="level3" data-number="3.2.2">
<h3 data-number="3.2.2" class="anchored" data-anchor-id="labor-mobility"><span class="header-section-number">3.2.2</span> Labor mobility</h3>
<p>A second, related dataset, <code>platform_economy_mobility.csv</code>, contains the career spells of 193 restaurant workers. Below is the codebook for the dataset:</p>
<ul>
<li><strong>employee</strong>: Employee numeric identifier</li>
<li><strong>time</strong>: Even timestamp in <code>%YYYY%MM</code> format</li>
<li><strong>tenure</strong>: Worker tenure in the restaurant in months</li>
<li><strong>quit</strong>: Logical value whether the employee quit his or her job at the restaurant after the last month indicated by the <code>time</code></li>
<li><strong>role</strong>: Worker role in the restaurant</li>
<li><strong>avg_hourly_wage</strong>: Worker average hourly wage in that calendar month</li>
<li><strong>dma</strong>: Market area of restaurants</li>
<li><strong>restaurant</strong>: Restaurant unique identifier (linked against the previous data-table)</li>
<li><strong>restaurant_category</strong>: Restaurant category, e.g., “Quick Service,” “Fast Casual,” “Casual Dining,” “Upscale Casual,” and “Fine Dining”</li>
</ul>
<div id="81d60d72" class="cell" data-execution_count="5">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>df2 <span class="op">=</span> pd.read_csv(<span class="st">"data/platform_economy_mobility.csv"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>df2.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="5">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">employee</th>
<th data-quarto-table-cell-role="th">time</th>
<th data-quarto-table-cell-role="th">tenure</th>
<th data-quarto-table-cell-role="th">quit</th>
<th data-quarto-table-cell-role="th">role</th>
<th data-quarto-table-cell-role="th">avg_hourly_wage</th>
<th data-quarto-table-cell-role="th">dma</th>
<th data-quarto-table-cell-role="th">restaurant</th>
<th data-quarto-table-cell-role="th">restaurant_cat</th>
</tr>
</thead>
<tbody>
<tr>
<td data-quarto-table-cell-role="th">0</td>
<td>1</td>
<td>2017-10</td>
<td>5</td>
<td>False</td>
<td>Prep Cook</td>
<td>14.917600</td>
<td>AUSTIN</td>
<td>3</td>
<td>Upscale Casual</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">1</td>
<td>1</td>
<td>2017-11</td>
<td>6</td>
<td>False</td>
<td>Prep Cook</td>
<td>15.008746</td>
<td>AUSTIN</td>
<td>3</td>
<td>Upscale Casual</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">2</td>
<td>1</td>
<td>2017-12</td>
<td>7</td>
<td>False</td>
<td>Prep Cook</td>
<td>14.610148</td>
<td>AUSTIN</td>
<td>3</td>
<td>Upscale Casual</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">3</td>
<td>1</td>
<td>2017-6</td>
<td>1</td>
<td>False</td>
<td>Line Cook</td>
<td>15.906409</td>
<td>AUSTIN</td>
<td>3</td>
<td>Upscale Casual</td>
</tr>
<tr>
<td data-quarto-table-cell-role="th">4</td>
<td>1</td>
<td>2017-7</td>
<td>2</td>
<td>False</td>
<td>Prep Cook</td>
<td>15.393874</td>
<td>AUSTIN</td>
<td>3</td>
<td>Upscale Casual</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
<section id="data-visualization-problem-1" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="data-visualization-problem-1"><span class="header-section-number">3.3</span> Data visualization problem</h2>
<p>Create two (2) plots addressing the following questions: “Does the exit of Uber and Lyft from Austin, Texas, affect the quality of service and food in local restaurants?” And “through which mechanism(s)?”</p>
</section>
</section>
<section id="sec-template" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Submission package</h1>
<p>The submission package consists of:</p>
<ul>
<li>An executive summary containing the two plots and a 600 word, companion text addressing the above-described business problems</li>
<li>The computer code that allows me to fully reproduce your charts (being, R, Python, Julia, Rust, Stata, C++, Java, etc.). The code should be well-commented and easy to read. Non-reproducible charts will not be graded.</li>
</ul>
<!-- -->

</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>The Industrial and Commercial Abatement Program (ICAP) is a tax incentive program in New York City designed to encourage businesses to make capital investments in industrial and commercial properties. Under ICAP, eligible businesses that renovate, construct, or expand commercial and industrial buildings can receive partial property tax exemptions for a specified period. This program aims to stimulate economic development, create jobs, and modernize the city’s infrastructure.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb6" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> SMM635 Final Course Project</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> Simone Santoni</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> last-modified</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="an">abstract-title:</span><span class="co"> Synopsis</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="an">abstract:</span><span class="co"> This notebook illustrates two alternative final course projects for the SMM635 course.</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="an">warning:</span><span class="co"> false</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="co">    toc-title: Table of Contents </span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="co">    toc-depth: 2</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="co">    toc-location: right</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="co">    number-sections: true</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a><span class="co">    citations-hover: false</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="co">    footnotes-hover: false</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a><span class="co">    crossrefs-hover: false</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a><span class="co">    theme: journal</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a><span class="co">    fig-width: 9</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a><span class="co">    fig-height: 6</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a><span class="co">  ipynb: default</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a><span class="co">  docx: default</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a><span class="co">  typst:</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a><span class="co">    number-sections: true</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a><span class="co">    df-print: paged</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a><span class="co">  #pdf:</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a><span class="co">  #  documentclass: scrartcl</span></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a><span class="co">  #  papersize: letter</span></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a><span class="fu"># Overview of the Projects {#sec-overview}</span></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>Students are required to choose one of the two projects in @tbl-overview. @sec-project-1 and @sec-project-2, describe the individual projects' context, data, and problems. Finally, @sec-template describes the materials that students are expected to submit, irrespective of the chosen project.</span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>| Project | Title                        | Data domains             |</span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>| :-----: | :--------------------------- | :----------------------- |</span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>|    1    | Equal employment opportunity | Geospatial &amp; time-series |</span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>|    2    | Platform economy             | Time series              |</span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>:Overview and key features of the two projects {#tbl-overview}</span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a><span class="fu"># Project 1: Equal Employment Opportunity {#sec-project-1}</span></span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a><span class="fu">## Contextual information</span></span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a>This project's dataset contains a list of Industrial and Commercial Abatement Program (ICAP)<span class="ot">[^1]</span> businesses that have successfully complied with Equal Employment Opportunity (EO50) requirements and have received EO50 certificate of approval from the NYC Department of Small Business Services (SBS). Executive Order No. 50 was established in 1980 during Mayor Koch's tenure. It mandates that all contractors adhere to equal employment principles, explicitly prohibiting discriminatory hiring practices. This order safeguards individuals from discrimination based on ten protected categories: race, sex, creed, age, color, disability, national origin, marital status, sexual orientation, and citizenship status.</span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a><span class="ot">[^1]: </span>The Industrial and Commercial Abatement Program (ICAP) is a tax incentive program in New York City designed to encourage businesses to make capital investments in industrial and commercial properties. Under ICAP, eligible businesses that renovate, construct, or expand commercial and industrial buildings can receive partial property tax exemptions for a specified period. This program aims to stimulate economic development, create jobs, and modernize the city's infrastructure.</span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data description</span></span>
<span id="cb6-53"><a href="#cb6-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-54"><a href="#cb6-54" aria-hidden="true" tabindex="-1"></a>The dataset is stored in a CSV file named <span class="in">`e050.csv`</span> and contains 992 cases―i.e., businesses that have received the EO50 certificate―and 16 variables, including the timestamp of the EO50 approval date and location data. Below is a sample record from the dataset.</span>
<span id="cb6-55"><a href="#cb6-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-58"><a href="#cb6-58" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb6-59"><a href="#cb6-59" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb6-60"><a href="#cb6-60" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb6-61"><a href="#cb6-61" aria-hidden="true" tabindex="-1"></a>df1 <span class="op">=</span> pd.read_csv(<span class="st">"data/e050.csv"</span>)</span>
<span id="cb6-62"><a href="#cb6-62" aria-hidden="true" tabindex="-1"></a>df1.head(<span class="dv">1</span>).T</span>
<span id="cb6-63"><a href="#cb6-63" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb6-64"><a href="#cb6-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-65"><a href="#cb6-65" aria-hidden="true" tabindex="-1"></a>The following bullet point list describes the individual variables:</span>
<span id="cb6-66"><a href="#cb6-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-67"><a href="#cb6-67" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>**EO50 Approval Date**: the date when the Business received EO50 certificate of approval from SBS (timestamp)</span>
<span id="cb6-68"><a href="#cb6-68" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>**Business Name**: Business name of vendor recruiting Minority and/or Women-Owned Business Enterprise subcontractors (Text)</span>
<span id="cb6-69"><a href="#cb6-69" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>**Business Address**: Address(es) of project site (text)</span>
<span id="cb6-70"><a href="#cb6-70" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>**Business City**: City of project site</span>
<span id="cb6-71"><a href="#cb6-71" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>**Business State**: State</span>
<span id="cb6-72"><a href="#cb6-72" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>**Business Phone**: Phone number of primary contact of vendor recruiting Minority and/or Women-Owned Business Enterprise subcontractors</span>
<span id="cb6-73"><a href="#cb6-73" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>**Postcode**: Zip code of site address(es)</span>
<span id="cb6-74"><a href="#cb6-74" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>**Borough**: Borough in which the site is located&gt;</span>
<span id="cb6-75"><a href="#cb6-75" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>**Community Board**: Community Board number</span>
<span id="cb6-76"><a href="#cb6-76" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>**Latitude**: Latitude of the site's location</span>
<span id="cb6-77"><a href="#cb6-77" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>**Longitude**: Longitude of the site's location</span>
<span id="cb6-78"><a href="#cb6-78" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>**Council District**: The Council District field indicates the New York  City Council District where the site is located</span>
<span id="cb6-79"><a href="#cb6-79" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>**BIN**: The BIN (site Identification Number) is a unique identifier for each site in the City</span>
<span id="cb6-80"><a href="#cb6-80" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>**BBL**: The BBL (Borough, Block, and Lot) is a unique identifier for each tax lot in the City</span>
<span id="cb6-81"><a href="#cb6-81" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>**Census Tract (2020)**: The Census Tract (Census 2020) field indicates the U.S. Census Tract where the site is located. Please note that as part of the geocoding process, leading and trailing zeros are dropped</span>
<span id="cb6-82"><a href="#cb6-82" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>**Neighborhood Tabulation Area (NTA) (2020)**: The Neighborhood Tabulation Area (Census 2020) field indicates the New York City Neighborhood area where the site is located</span>
<span id="cb6-83"><a href="#cb6-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-84"><a href="#cb6-84" aria-hidden="true" tabindex="-1"></a>@fig-certification shows the distribution of EO50 certificates over time.</span>
<span id="cb6-85"><a href="#cb6-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-88"><a href="#cb6-88" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb6-89"><a href="#cb6-89" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-certification</span></span>
<span id="cb6-90"><a href="#cb6-90" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Distribution of EO50 certificates over time"</span></span>
<span id="cb6-91"><a href="#cb6-91" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb6-92"><a href="#cb6-92" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb6-93"><a href="#cb6-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-94"><a href="#cb6-94" aria-hidden="true" tabindex="-1"></a>df1.loc[:, <span class="st">"date"</span>] <span class="op">=</span> pd.to_datetime(df1[<span class="st">"EO50 Approval Date"</span>])</span>
<span id="cb6-95"><a href="#cb6-95" aria-hidden="true" tabindex="-1"></a>df1[<span class="st">"month_year"</span>] <span class="op">=</span> df1[<span class="st">"date"</span>].dt.to_period(<span class="st">"M"</span>)</span>
<span id="cb6-96"><a href="#cb6-96" aria-hidden="true" tabindex="-1"></a>gr <span class="op">=</span> df1.groupby(<span class="st">"month_year"</span>)</span>
<span id="cb6-97"><a href="#cb6-97" aria-hidden="true" tabindex="-1"></a>ds <span class="op">=</span> pd.DataFrame(gr.size().reset_index(name<span class="op">=</span><span class="st">"counts"</span>))</span>
<span id="cb6-98"><a href="#cb6-98" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">4</span>))</span>
<span id="cb6-99"><a href="#cb6-99" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> fig.add_subplot(<span class="dv">111</span>)</span>
<span id="cb6-100"><a href="#cb6-100" aria-hidden="true" tabindex="-1"></a>ax.plot(ds.index, ds[<span class="st">"counts"</span>], color<span class="op">=</span><span class="st">"blue"</span>)</span>
<span id="cb6-101"><a href="#cb6-101" aria-hidden="true" tabindex="-1"></a>xticklabels <span class="op">=</span> []</span>
<span id="cb6-102"><a href="#cb6-102" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> _ <span class="kw">in</span> ds[<span class="st">"month_year"</span>].astype(<span class="bu">str</span>):</span>
<span id="cb6-103"><a href="#cb6-103" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">"-06"</span> <span class="kw">in</span> _:</span>
<span id="cb6-104"><a href="#cb6-104" aria-hidden="true" tabindex="-1"></a>        xticklabels.append(_)</span>
<span id="cb6-105"><a href="#cb6-105" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb6-106"><a href="#cb6-106" aria-hidden="true" tabindex="-1"></a>        xticklabels.append(<span class="st">""</span>)</span>
<span id="cb6-107"><a href="#cb6-107" aria-hidden="true" tabindex="-1"></a>ax.set_xticks(ds.index)</span>
<span id="cb6-108"><a href="#cb6-108" aria-hidden="true" tabindex="-1"></a>ax.set_xticklabels(xticklabels, rotation<span class="op">=</span><span class="dv">45</span>, horizontalalignment<span class="op">=</span><span class="st">"right"</span>)</span>
<span id="cb6-109"><a href="#cb6-109" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">"Counts of EO50 certificates"</span>)</span>
<span id="cb6-110"><a href="#cb6-110" aria-hidden="true" tabindex="-1"></a>ax.grid(<span class="va">True</span>, which<span class="op">=</span><span class="st">"major"</span>, axis<span class="op">=</span><span class="st">"y"</span>, linestyle<span class="op">=</span><span class="st">"--"</span>, linewidth<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb6-111"><a href="#cb6-111" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb6-112"><a href="#cb6-112" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb6-113"><a href="#cb6-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-114"><a href="#cb6-114" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data visualization problem</span></span>
<span id="cb6-115"><a href="#cb6-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-116"><a href="#cb6-116" aria-hidden="true" tabindex="-1"></a>Create two (2) plots showing the diffusion of EO50 certificates across NYC areas and over time.  You may want to consider a few demographic or socio-economic indicators (e.g., borough-level indicators) to provide a more nuanced interpretation of the EO50 diffusion pattern. <span class="co">[</span><span class="ot">NYC OpenData</span><span class="co">](https://opendata.cityofnewyork.us/)</span> provides a wealth of datasets that you can use to efficiently and effectively enrich the analysis. Then, discuss the main business/policy insight(s) that can be drawn from the plots you created.</span>
<span id="cb6-117"><a href="#cb6-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-118"><a href="#cb6-118" aria-hidden="true" tabindex="-1"></a><span class="fu"># Project 2: Platform Economy {#sec-project-2}</span></span>
<span id="cb6-119"><a href="#cb6-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-120"><a href="#cb6-120" aria-hidden="true" tabindex="-1"></a><span class="fu">## Contextual information</span></span>
<span id="cb6-121"><a href="#cb6-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-122"><a href="#cb6-122" aria-hidden="true" tabindex="-1"></a>The platform economy has transformed the way people work, consume, and interact with each other. Platforms like Uber, Lyft, Airbnb, and TaskRabbit have disrupted traditional industries and created new opportunities for workers and consumers. However, platform businesses may affect non-related markets in unexpected ways. This project emphasizes a regulatory change that affected the ride-sharing industry in Austin, Texas, and its impact on the local restaurant industry, and, possibly, local restaurants.</span>
<span id="cb6-123"><a href="#cb6-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-124"><a href="#cb6-124" aria-hidden="true" tabindex="-1"></a>In 2016 and 2017, Uber and Lyft temporarily ceased operations in Austin, Texas, due to a dispute over local regulations governing ride-sharing services. </span>
<span id="cb6-125"><a href="#cb6-125" aria-hidden="true" tabindex="-1"></a>In December 2015, Austin City Council passed an ordinance requiring ride-sharing companies like Uber and Lyft to:</span>
<span id="cb6-126"><a href="#cb6-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-127"><a href="#cb6-127" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>Conduct fingerprint-based background checks on their drivers (similar to those required for taxi drivers)</span>
<span id="cb6-128"><a href="#cb6-128" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>Restrict pick-up and drop-off locations in certain areas</span>
<span id="cb6-129"><a href="#cb6-129" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>Collect data and adhere to other safety and operational standards</span>
<span id="cb6-130"><a href="#cb6-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-131"><a href="#cb6-131" aria-hidden="true" tabindex="-1"></a>Uber and Lyft objected to the fingerprint requirement, arguing that their own background checks were sufficient and that fingerprinting was unnecessarily burdensome, potentially deterring drivers from signing up.</span>
<span id="cb6-132"><a href="#cb6-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-133"><a href="#cb6-133" aria-hidden="true" tabindex="-1"></a>In response to the ordinance, Uber and Lyft, along with their supporters, gathered enough signatures to trigger a public referendum (Proposition 1) in May 2016, hoping to overturn the city’s regulations. Outcome: Proposition 1 was defeated, with approximately 56% of Austin voters choosing to uphold the city's regulations. Impact: Following the vote, both Uber and Lyft announced that they would suspend operations in Austin, effective May 9, 2016.</span>
<span id="cb6-134"><a href="#cb6-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-135"><a href="#cb6-135" aria-hidden="true" tabindex="-1"></a>However, many residents expressed frustration with the lack of options and higher prices compared to the services provided by Uber and Lyft. The absence of the two giants also created logistical challenges for large-scale events like SXSW and the Austin City Limits music festival.</span>
<span id="cb6-136"><a href="#cb6-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-137"><a href="#cb6-137" aria-hidden="true" tabindex="-1"></a>In May 2017, the Texas Legislature passed House Bill 100, a statewide law that overrode local ride-sharing regulations and established uniform rules across Texas. Notably, the new law removed the requirement for fingerprint-based background check and gave regulatory authority over ride-sharing companies to the state rather than individual cities. With this new statewide framework, Uber and Lyft resumed operations in Austin soon after the bill was signed into law.</span>
<span id="cb6-138"><a href="#cb6-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-139"><a href="#cb6-139" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data description</span></span>
<span id="cb6-140"><a href="#cb6-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-141"><a href="#cb6-141" aria-hidden="true" tabindex="-1"></a>This project comprises two data-tables, <span class="in">`platform_economy_reviews.csv`</span> and <span class="in">`platform_economy_restaurants.csv`</span>. The former contains restaurant review tone, while the latter contains restaurant workers' career spells.</span>
<span id="cb6-142"><a href="#cb6-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-143"><a href="#cb6-143" aria-hidden="true" tabindex="-1"></a><span class="fu">### Reviews</span></span>
<span id="cb6-144"><a href="#cb6-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-145"><a href="#cb6-145" aria-hidden="true" tabindex="-1"></a>The data-table <span class="in">`platform_economy_reviews.csv`</span> contains 58,227 reviews regarding a sample of 1,107 restaurants in Texas. Below is the codebook for the dataset:</span>
<span id="cb6-146"><a href="#cb6-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-147"><a href="#cb6-147" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>**id** : Restaurant numeric identifier</span>
<span id="cb6-148"><a href="#cb6-148" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>**yelp_tier** : The tier of the restaurant according to Yelp (in "$")</span>
<span id="cb6-149"><a href="#cb6-149" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>**time**: Review timestamp in "YYYY-MM" format</span>
<span id="cb6-150"><a href="#cb6-150" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>**bad_service**: Percentage of month $t$ Yelp reviews that were negative about the service This measure was achieved by training an aspect-based (i.e., service-based) sentiment classifier on the corpus 58,227 reviews</span>
<span id="cb6-151"><a href="#cb6-151" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>**bad_food**: Percentage of month $t$ Yelp reviews that were negative about the food. This measure was achieved by training an aspect-based (i.e., food-based) sentiment classifier on the corpus 58,227 reviews</span>
<span id="cb6-152"><a href="#cb6-152" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>**location**: Restaurant location (either Austin or Dallas)</span>
<span id="cb6-153"><a href="#cb6-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-156"><a href="#cb6-156" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb6-157"><a href="#cb6-157" aria-hidden="true" tabindex="-1"></a>df2 <span class="op">=</span> pd.read_csv(<span class="st">"data/platform_economy_reviews.csv"</span>)</span>
<span id="cb6-158"><a href="#cb6-158" aria-hidden="true" tabindex="-1"></a>df2.head()</span>
<span id="cb6-159"><a href="#cb6-159" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb6-160"><a href="#cb6-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-161"><a href="#cb6-161" aria-hidden="true" tabindex="-1"></a>@fig-reviews-over-time shows the distribution of Yelp reviews regarding restaurants in Austin (which was affected by the Uber and Lyft exit) and Dallas (which was not affected). These data offer ready-to-analyze information regarding the quality of service and food in the restaurants over time.</span>
<span id="cb6-162"><a href="#cb6-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-165"><a href="#cb6-165" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb6-166"><a href="#cb6-166" aria-hidden="true" tabindex="-1"></a><span class="co"># | label: fig-reviews-over-time</span></span>
<span id="cb6-167"><a href="#cb6-167" aria-hidden="true" tabindex="-1"></a><span class="co"># | fig-cap: "Distribution of Yelp reviews regarding restaurants in Austin and Dallas"</span></span>
<span id="cb6-168"><a href="#cb6-168" aria-hidden="true" tabindex="-1"></a>gr <span class="op">=</span> df2.groupby([<span class="st">"time"</span>, <span class="st">"location"</span>])</span>
<span id="cb6-169"><a href="#cb6-169" aria-hidden="true" tabindex="-1"></a>ds <span class="op">=</span> pd.DataFrame(gr.size().reset_index(name<span class="op">=</span><span class="st">"counts"</span>))</span>
<span id="cb6-170"><a href="#cb6-170" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">4</span>))</span>
<span id="cb6-171"><a href="#cb6-171" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> fig.add_subplot(<span class="dv">111</span>)</span>
<span id="cb6-172"><a href="#cb6-172" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> _, color <span class="kw">in</span> <span class="bu">zip</span>([<span class="st">"austin"</span>, <span class="st">"dallas"</span>], [<span class="st">"red"</span>, <span class="st">"blue"</span>]):</span>
<span id="cb6-173"><a href="#cb6-173" aria-hidden="true" tabindex="-1"></a>    tmp <span class="op">=</span> ds.loc[ds[<span class="st">"location"</span>] <span class="op">==</span> _, :]</span>
<span id="cb6-174"><a href="#cb6-174" aria-hidden="true" tabindex="-1"></a>    ax.plot(</span>
<span id="cb6-175"><a href="#cb6-175" aria-hidden="true" tabindex="-1"></a>        tmp.time,</span>
<span id="cb6-176"><a href="#cb6-176" aria-hidden="true" tabindex="-1"></a>        tmp.counts,</span>
<span id="cb6-177"><a href="#cb6-177" aria-hidden="true" tabindex="-1"></a>        color<span class="op">=</span>color,</span>
<span id="cb6-178"><a href="#cb6-178" aria-hidden="true" tabindex="-1"></a>        label<span class="op">=</span>_.title(),</span>
<span id="cb6-179"><a href="#cb6-179" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb6-180"><a href="#cb6-180" aria-hidden="true" tabindex="-1"></a>xticklabels <span class="op">=</span> []</span>
<span id="cb6-181"><a href="#cb6-181" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> _ <span class="kw">in</span> ax.get_xticklabels():</span>
<span id="cb6-182"><a href="#cb6-182" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">"-05"</span> <span class="kw">in</span> _.get_text():</span>
<span id="cb6-183"><a href="#cb6-183" aria-hidden="true" tabindex="-1"></a>        xticklabels.append(_.get_text())</span>
<span id="cb6-184"><a href="#cb6-184" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb6-185"><a href="#cb6-185" aria-hidden="true" tabindex="-1"></a>        xticklabels.append(<span class="st">""</span>)</span>
<span id="cb6-186"><a href="#cb6-186" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">"Counts of Yelp reviews"</span>)</span>
<span id="cb6-187"><a href="#cb6-187" aria-hidden="true" tabindex="-1"></a>ax.set_xticklabels(xticklabels, rotation<span class="op">=</span><span class="dv">90</span>, horizontalalignment<span class="op">=</span><span class="st">"center"</span>)</span>
<span id="cb6-188"><a href="#cb6-188" aria-hidden="true" tabindex="-1"></a>ax.legend(loc<span class="op">=</span><span class="st">"best"</span>)</span>
<span id="cb6-189"><a href="#cb6-189" aria-hidden="true" tabindex="-1"></a>ax.vlines(x<span class="op">=</span><span class="st">"2016-05"</span>, ymin<span class="op">=</span><span class="dv">0</span>, ymax<span class="op">=</span>ds[<span class="st">"counts"</span>].<span class="bu">max</span>(), color<span class="op">=</span><span class="st">"purple"</span>, linestyle<span class="op">=</span><span class="st">"--"</span>)</span>
<span id="cb6-190"><a href="#cb6-190" aria-hidden="true" tabindex="-1"></a>ax.text(x<span class="op">=</span><span class="st">"2016-02"</span>, y<span class="op">=</span><span class="dv">0</span>, s<span class="op">=</span><span class="st">"Uber &amp; Lyft</span><span class="ch">\n</span><span class="st">exit Austin"</span>, rotation<span class="op">=</span><span class="dv">90</span>, color<span class="op">=</span><span class="st">"purple"</span>)</span>
<span id="cb6-191"><a href="#cb6-191" aria-hidden="true" tabindex="-1"></a>ax.vlines(x<span class="op">=</span><span class="st">"2017-05"</span>, ymin<span class="op">=</span><span class="dv">0</span>, ymax<span class="op">=</span>ds[<span class="st">"counts"</span>].<span class="bu">max</span>(), color<span class="op">=</span><span class="st">"green"</span>, linestyle<span class="op">=</span><span class="st">"--"</span>)</span>
<span id="cb6-192"><a href="#cb6-192" aria-hidden="true" tabindex="-1"></a>ax.text(</span>
<span id="cb6-193"><a href="#cb6-193" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"2017-02"</span>, y<span class="op">=</span><span class="dv">0</span>, s<span class="op">=</span><span class="st">"Uber &amp; Lyft</span><span class="ch">\n</span><span class="st">re-entry Austin"</span>, rotation<span class="op">=</span><span class="dv">90</span>, color<span class="op">=</span><span class="st">"green"</span></span>
<span id="cb6-194"><a href="#cb6-194" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-195"><a href="#cb6-195" aria-hidden="true" tabindex="-1"></a>ax.grid(<span class="va">True</span>, which<span class="op">=</span><span class="st">"major"</span>, axis<span class="op">=</span><span class="st">"y"</span>, linestyle<span class="op">=</span><span class="st">"--"</span>, linewidth<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb6-196"><a href="#cb6-196" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb6-197"><a href="#cb6-197" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb6-198"><a href="#cb6-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-199"><a href="#cb6-199" aria-hidden="true" tabindex="-1"></a><span class="fu">### Labor mobility</span></span>
<span id="cb6-200"><a href="#cb6-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-201"><a href="#cb6-201" aria-hidden="true" tabindex="-1"></a>A second, related dataset, <span class="in">`platform_economy_mobility.csv`</span>, contains the career spells of 193 restaurant workers. Below is the codebook for the dataset:</span>
<span id="cb6-202"><a href="#cb6-202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-203"><a href="#cb6-203" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>**employee**: Employee numeric identifier </span>
<span id="cb6-204"><a href="#cb6-204" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>**time**: Even timestamp in <span class="in">`%YYYY%MM`</span> format</span>
<span id="cb6-205"><a href="#cb6-205" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>**tenure**: Worker tenure in the restaurant in months</span>
<span id="cb6-206"><a href="#cb6-206" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>**quit**: Logical value whether the employee quit his or her job at the restaurant after the last month indicated by the <span class="in">`time`</span></span>
<span id="cb6-207"><a href="#cb6-207" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>**role**: Worker role in the restaurant</span>
<span id="cb6-208"><a href="#cb6-208" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>**avg_hourly_wage**: Worker average hourly wage in that calendar month</span>
<span id="cb6-209"><a href="#cb6-209" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>**dma**: Market area of restaurants</span>
<span id="cb6-210"><a href="#cb6-210" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>**restaurant**: Restaurant unique identifier (linked against the previous data-table)</span>
<span id="cb6-211"><a href="#cb6-211" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>**restaurant_category**: Restaurant category, e.g., "Quick Service," "Fast Casual," "Casual Dining," "Upscale Casual," and "Fine Dining"</span>
<span id="cb6-212"><a href="#cb6-212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-215"><a href="#cb6-215" aria-hidden="true" tabindex="-1"></a><span class="in">```{python}</span></span>
<span id="cb6-216"><a href="#cb6-216" aria-hidden="true" tabindex="-1"></a>df2 <span class="op">=</span> pd.read_csv(<span class="st">"data/platform_economy_mobility.csv"</span>)</span>
<span id="cb6-217"><a href="#cb6-217" aria-hidden="true" tabindex="-1"></a>df2.head()</span>
<span id="cb6-218"><a href="#cb6-218" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb6-219"><a href="#cb6-219" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data visualization problem</span></span>
<span id="cb6-220"><a href="#cb6-220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-221"><a href="#cb6-221" aria-hidden="true" tabindex="-1"></a>Create two (2) plots addressing the following questions: "Does the exit of Uber and Lyft from Austin, Texas, affect the quality of service and food in local restaurants?" And "through which mechanism(s)?"</span>
<span id="cb6-222"><a href="#cb6-222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-223"><a href="#cb6-223" aria-hidden="true" tabindex="-1"></a><span class="fu"># Submission package {#sec-template}</span></span>
<span id="cb6-224"><a href="#cb6-224" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-225"><a href="#cb6-225" aria-hidden="true" tabindex="-1"></a>The submission package consists of:</span>
<span id="cb6-226"><a href="#cb6-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-227"><a href="#cb6-227" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>An executive summary containing the two plots and a 600 word, companion text addressing the above-described business problems</span>
<span id="cb6-228"><a href="#cb6-228" aria-hidden="true" tabindex="-1"></a><span class="ss">+ </span>The computer code that allows me to fully reproduce your charts (being, R, Python, Julia, Rust, Stata, C++, Java, etc.). The code should be well-commented and easy to read. Non-reproducible charts will not be graded.</span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->




</body></html>